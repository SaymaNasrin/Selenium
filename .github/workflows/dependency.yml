# This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time
# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-maven

name: dependency (task 1) check

on: 
  push:
  schedule:
     - cron: '*/20 * * * *'
     
jobs:
  job1:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: '1.8'
    - name: Install google chrome
      run: chmod +x InstallChrome.sh
        
    - name: Build with Maven
      run: mvn -B package --file pom.xml
      
  job2:
   runs-on: macos-latest
   needs: job1
   steps:
   - uses: actions/checkout@v1
   - name: jdk
     uses: actions/setup-java@v1
     with:
        java-version: '1.8'
   - name: Install Mozilla
     run: chmod +x Install-firefox.sh
        
   - name: run in firefox
     run: mvn -B package --file pom.xml
     
  job3:
   runs-on: ubuntu-latest
   needs: job1
   if: always()

   steps:
    - name: print 
      run: echo this job will run even if the second job fails.
